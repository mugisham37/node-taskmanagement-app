{
  "id": "c0c80661-8ff2-4d3f-b201-51f98c242ba0",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "audit_action",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_values": {
          "name": "old_values",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "new_values": {
          "name": "new_values",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "changes": {
          "name": "changes",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_logs_entity": {
          "name": "idx_audit_logs_entity",
          "columns": [
            "entity_type",
            "entity_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_user": {
          "name": "idx_audit_logs_user",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_action": {
          "name": "idx_audit_logs_action",
          "columns": [
            "action",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_time": {
          "name": "idx_audit_logs_time",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_security": {
          "name": "idx_audit_logs_security",
          "columns": [
            "action",
            "user_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_entity_type": {
          "name": "idx_audit_logs_entity_type",
          "columns": [
            "entity_type",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_ip": {
          "name": "idx_audit_logs_ip",
          "columns": [
            "ip_address",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_audit_logs_entity_action": {
          "name": "idx_audit_logs_entity_action",
          "columns": [
            "entity_type",
            "entity_id",
            "action"
          ],
          "isUnique": false
        },
        "idx_audit_logs_user_action": {
          "name": "idx_audit_logs_user_action",
          "columns": [
            "user_id",
            "action",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_events": {
      "name": "calendar_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "event_type",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "all_day": {
          "name": "all_day",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "location": {
          "name": "location",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": true,
          "default": "'#4f46e5'"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "team_id": {
          "name": "team_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "is_recurring": {
          "name": "is_recurring",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "recurrence_rule": {
          "name": "recurrence_rule",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attendees": {
          "name": "attendees",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "reminders": {
          "name": "reminders",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::json"
        },
        "external_calendar_id": {
          "name": "external_calendar_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "external_event_id": {
          "name": "external_event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_calendar_events_user_time": {
          "name": "idx_calendar_events_user_time",
          "columns": [
            "user_id",
            "start_date",
            "end_date"
          ],
          "isUnique": false
        },
        "idx_calendar_events_workspace_time": {
          "name": "idx_calendar_events_workspace_time",
          "columns": [
            "workspace_id",
            "start_date"
          ],
          "isUnique": false
        },
        "idx_calendar_events_project": {
          "name": "idx_calendar_events_project",
          "columns": [
            "project_id"
          ],
          "isUnique": false
        },
        "idx_calendar_events_task": {
          "name": "idx_calendar_events_task",
          "columns": [
            "task_id"
          ],
          "isUnique": false
        },
        "idx_calendar_events_type": {
          "name": "idx_calendar_events_type",
          "columns": [
            "type",
            "start_date"
          ],
          "isUnique": false
        },
        "idx_calendar_events_recurring": {
          "name": "idx_calendar_events_recurring",
          "columns": [
            "is_recurring",
            "user_id"
          ],
          "isUnique": false
        },
        "idx_calendar_events_start_date": {
          "name": "idx_calendar_events_start_date",
          "columns": [
            "start_date"
          ],
          "isUnique": false
        },
        "idx_calendar_events_end_date": {
          "name": "idx_calendar_events_end_date",
          "columns": [
            "end_date"
          ],
          "isUnique": false
        },
        "idx_calendar_events_external_calendar": {
          "name": "idx_calendar_events_external_calendar",
          "columns": [
            "external_calendar_id"
          ],
          "isUnique": false
        },
        "idx_calendar_events_external_event": {
          "name": "idx_calendar_events_external_event",
          "columns": [
            "external_event_id"
          ],
          "isUnique": false
        },
        "idx_calendar_events_upcoming": {
          "name": "idx_calendar_events_upcoming",
          "columns": [
            "start_date",
            "user_id"
          ],
          "isUnique": false
        },
        "idx_calendar_events_team_time": {
          "name": "idx_calendar_events_team_time",
          "columns": [
            "team_id",
            "start_date"
          ],
          "isUnique": false
        },
        "idx_calendar_events_conflict": {
          "name": "idx_calendar_events_conflict",
          "columns": [
            "user_id",
            "start_date",
            "end_date",
            "all_day"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "file_attachments": {
      "name": "file_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "original_name": {
          "name": "original_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "file_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "file_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'uploading'"
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "comment_id": {
          "name": "comment_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_file_attachments_filename": {
          "name": "idx_file_attachments_filename",
          "columns": [
            "filename"
          ],
          "isUnique": false
        },
        "idx_file_attachments_checksum": {
          "name": "idx_file_attachments_checksum",
          "columns": [
            "checksum"
          ],
          "isUnique": false
        },
        "idx_file_attachments_uploaded_by": {
          "name": "idx_file_attachments_uploaded_by",
          "columns": [
            "uploaded_by",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_file_attachments_workspace": {
          "name": "idx_file_attachments_workspace",
          "columns": [
            "workspace_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_file_attachments_project": {
          "name": "idx_file_attachments_project",
          "columns": [
            "project_id"
          ],
          "isUnique": false
        },
        "idx_file_attachments_task": {
          "name": "idx_file_attachments_task",
          "columns": [
            "task_id"
          ],
          "isUnique": false
        },
        "idx_file_attachments_comment": {
          "name": "idx_file_attachments_comment",
          "columns": [
            "comment_id"
          ],
          "isUnique": false
        },
        "idx_file_attachments_type": {
          "name": "idx_file_attachments_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "idx_file_attachments_status": {
          "name": "idx_file_attachments_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_file_attachments_type_status": {
          "name": "idx_file_attachments_type_status",
          "columns": [
            "type",
            "status"
          ],
          "isUnique": false
        },
        "idx_file_attachments_mime_type": {
          "name": "idx_file_attachments_mime_type",
          "columns": [
            "mime_type"
          ],
          "isUnique": false
        },
        "idx_file_attachments_size": {
          "name": "idx_file_attachments_size",
          "columns": [
            "size"
          ],
          "isUnique": false
        },
        "idx_file_attachments_deleted": {
          "name": "idx_file_attachments_deleted",
          "columns": [
            "deleted_at"
          ],
          "isUnique": false
        },
        "idx_file_attachments_active": {
          "name": "idx_file_attachments_active",
          "columns": [
            "status",
            "deleted_at"
          ],
          "isUnique": false
        },
        "idx_file_attachments_orphaned": {
          "name": "idx_file_attachments_orphaned",
          "columns": [
            "workspace_id",
            "project_id",
            "task_id",
            "comment_id"
          ],
          "isUnique": false
        },
        "idx_file_attachments_created_at": {
          "name": "idx_file_attachments_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "idx_file_attachments_workspace_storage": {
          "name": "idx_file_attachments_workspace_storage",
          "columns": [
            "workspace_id",
            "size",
            "status"
          ],
          "isUnique": false
        },
        "idx_file_attachments_user_storage": {
          "name": "idx_file_attachments_user_storage",
          "columns": [
            "uploaded_by",
            "size",
            "status"
          ],
          "isUnique": false
        },
        "idx_file_attachments_ready": {
          "name": "idx_file_attachments_ready",
          "columns": [
            "status",
            "url"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "hashed_password": {
          "name": "hashed_password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      }
    },
    "workspaces": {
      "name": "workspaces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_id": {
          "name": "owner_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workspaces_owner_id_users_id_fk": {
          "name": "workspaces_owner_id_users_id_fk",
          "tableFrom": "workspaces",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "manager_id": {
          "name": "manager_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "project_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'ACTIVE'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "projects_workspace_id_workspaces_id_fk": {
          "name": "projects_workspace_id_workspaces_id_fk",
          "tableFrom": "projects",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_manager_id_users_id_fk": {
          "name": "projects_manager_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "task_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'TODO'"
        },
        "priority": {
          "name": "priority",
          "type": "priority",
          "primaryKey": false,
          "notNull": true,
          "default": "'MEDIUM'"
        },
        "assignee_id": {
          "name": "assignee_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_hours": {
          "name": "estimated_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actual_hours": {
          "name": "actual_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tasks_assignee_id_users_id_fk": {
          "name": "tasks_assignee_id_users_id_fk",
          "tableFrom": "tasks",
          "tableTo": "users",
          "columnsFrom": [
            "assignee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_project_id_projects_id_fk": {
          "name": "tasks_project_id_projects_id_fk",
          "tableFrom": "tasks",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_created_by_id_users_id_fk": {
          "name": "tasks_created_by_id_users_id_fk",
          "tableFrom": "tasks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "project_members": {
      "name": "project_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "project_role",
          "primaryKey": false,
          "notNull": true,
          "default": "'MEMBER'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_members_project_id_projects_id_fk": {
          "name": "project_members_project_id_projects_id_fk",
          "tableFrom": "project_members",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_members_user_id_users_id_fk": {
          "name": "project_members_user_id_users_id_fk",
          "tableFrom": "project_members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_members_project_id_user_id_unique": {
          "name": "project_members_project_id_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "project_id",
            "user_id"
          ]
        }
      }
    },
    "task_dependencies": {
      "name": "task_dependencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "depends_on_id": {
          "name": "depends_on_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "task_dependencies_task_id_tasks_id_fk": {
          "name": "task_dependencies_task_id_tasks_id_fk",
          "tableFrom": "task_dependencies",
          "tableTo": "tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "task_dependencies_depends_on_id_tasks_id_fk": {
          "name": "task_dependencies_depends_on_id_tasks_id_fk",
          "tableFrom": "task_dependencies",
          "tableTo": "tasks",
          "columnsFrom": [
            "depends_on_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "task_dependencies_task_id_depends_on_id_unique": {
          "name": "task_dependencies_task_id_depends_on_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "task_id",
            "depends_on_id"
          ]
        }
      }
    },
    "notification_preferences": {
      "name": "notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "email_enabled": {
          "name": "email_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "push_enabled": {
          "name": "push_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "in_app_enabled": {
          "name": "in_app_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sms_enabled": {
          "name": "sms_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "webhook_enabled": {
          "name": "webhook_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "quiet_hours": {
          "name": "quiet_hours",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"enabled\":false,\"startTime\":\"22:00\",\"endTime\":\"08:00\",\"timezone\":\"UTC\"}'::json"
        },
        "type_preferences": {
          "name": "type_preferences",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_preferences_user": {
          "name": "idx_notification_preferences_user",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "idx_notification_preferences_user_workspace": {
          "name": "idx_notification_preferences_user_workspace",
          "columns": [
            "user_id",
            "workspace_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data": {
          "name": "data",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "channels": {
          "name": "channels",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "notification_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notifications_user_unread": {
          "name": "idx_notifications_user_unread",
          "columns": [
            "user_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_notifications_user_status": {
          "name": "idx_notifications_user_status",
          "columns": [
            "user_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_notifications_workspace": {
          "name": "idx_notifications_workspace",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "idx_notifications_project": {
          "name": "idx_notifications_project",
          "columns": [
            "project_id"
          ],
          "isUnique": false
        },
        "idx_notifications_task": {
          "name": "idx_notifications_task",
          "columns": [
            "task_id"
          ],
          "isUnique": false
        },
        "idx_notifications_type": {
          "name": "idx_notifications_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "idx_notifications_status": {
          "name": "idx_notifications_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_notifications_scheduled": {
          "name": "idx_notifications_scheduled",
          "columns": [
            "scheduled_for"
          ],
          "isUnique": false
        },
        "idx_notifications_expires": {
          "name": "idx_notifications_expires",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        },
        "idx_notifications_pending_delivery": {
          "name": "idx_notifications_pending_delivery",
          "columns": [
            "status",
            "scheduled_for"
          ],
          "isUnique": false
        },
        "idx_notifications_failed_retryable": {
          "name": "idx_notifications_failed_retryable",
          "columns": [
            "status",
            "retry_count",
            "max_retries"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "webhook_deliveries": {
      "name": "webhook_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "webhook_id": {
          "name": "webhook_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "event": {
          "name": "event",
          "type": "webhook_event",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "webhook_delivery_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "http_status": {
          "name": "http_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhook_deliveries_webhook": {
          "name": "idx_webhook_deliveries_webhook",
          "columns": [
            "webhook_id",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_status": {
          "name": "idx_webhook_deliveries_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_webhook_status": {
          "name": "idx_webhook_deliveries_webhook_status",
          "columns": [
            "webhook_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_event": {
          "name": "idx_webhook_deliveries_event",
          "columns": [
            "event",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_retry": {
          "name": "idx_webhook_deliveries_retry",
          "columns": [
            "status",
            "next_retry_at"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_pending": {
          "name": "idx_webhook_deliveries_pending",
          "columns": [
            "status",
            "created_at"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_time": {
          "name": "idx_webhook_deliveries_time",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "idx_webhook_deliveries_delivered": {
          "name": "idx_webhook_deliveries_delivered",
          "columns": [
            "delivered_at",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "webhooks": {
      "name": "webhooks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "events": {
          "name": "events",
          "type": "json",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "webhook_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true
        },
        "last_triggered_at": {
          "name": "last_triggered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_count": {
          "name": "failure_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_failures": {
          "name": "max_failures",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 5
        },
        "timeout": {
          "name": "timeout",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30000
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "headers": {
          "name": "headers",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::json"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhooks_workspace": {
          "name": "idx_webhooks_workspace",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "idx_webhooks_status": {
          "name": "idx_webhooks_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_webhooks_workspace_status": {
          "name": "idx_webhooks_workspace_status",
          "columns": [
            "workspace_id",
            "status"
          ],
          "isUnique": false
        },
        "idx_webhooks_url": {
          "name": "idx_webhooks_url",
          "columns": [
            "url"
          ],
          "isUnique": false
        },
        "idx_webhooks_created_by": {
          "name": "idx_webhooks_created_by",
          "columns": [
            "created_by"
          ],
          "isUnique": false
        },
        "idx_webhooks_active": {
          "name": "idx_webhooks_active",
          "columns": [
            "status",
            "workspace_id"
          ],
          "isUnique": false
        },
        "idx_webhooks_failed": {
          "name": "idx_webhooks_failed",
          "columns": [
            "status",
            "failure_count"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "audit_action": {
      "name": "audit_action",
      "values": {
        "CREATE": "CREATE",
        "UPDATE": "UPDATE",
        "DELETE": "DELETE",
        "LOGIN": "LOGIN",
        "LOGOUT": "LOGOUT",
        "PASSWORD_CHANGE": "PASSWORD_CHANGE",
        "EMAIL_VERIFICATION": "EMAIL_VERIFICATION",
        "PERMISSION_CHANGE": "PERMISSION_CHANGE",
        "EXPORT": "EXPORT",
        "IMPORT": "IMPORT",
        "SHARE": "SHARE",
        "ARCHIVE": "ARCHIVE",
        "RESTORE": "RESTORE"
      }
    },
    "attendee_status": {
      "name": "attendee_status",
      "values": {
        "pending": "pending",
        "accepted": "accepted",
        "declined": "declined",
        "tentative": "tentative"
      }
    },
    "event_type": {
      "name": "event_type",
      "values": {
        "task": "task",
        "meeting": "meeting",
        "deadline": "deadline",
        "other": "other"
      }
    },
    "file_status": {
      "name": "file_status",
      "values": {
        "uploading": "uploading",
        "processing": "processing",
        "ready": "ready",
        "error": "error",
        "deleted": "deleted"
      }
    },
    "file_type": {
      "name": "file_type",
      "values": {
        "image": "image",
        "document": "document",
        "spreadsheet": "spreadsheet",
        "presentation": "presentation",
        "video": "video",
        "audio": "audio",
        "archive": "archive",
        "other": "other"
      }
    },
    "notification_channel": {
      "name": "notification_channel",
      "values": {
        "email": "email",
        "push": "push",
        "in_app": "in_app",
        "sms": "sms",
        "webhook": "webhook"
      }
    },
    "notification_status": {
      "name": "notification_status",
      "values": {
        "pending": "pending",
        "sent": "sent",
        "delivered": "delivered",
        "read": "read",
        "failed": "failed"
      }
    },
    "notification_type": {
      "name": "notification_type",
      "values": {
        "task_assigned": "task_assigned",
        "task_completed": "task_completed",
        "task_due_soon": "task_due_soon",
        "task_overdue": "task_overdue",
        "project_created": "project_created",
        "project_updated": "project_updated",
        "comment_added": "comment_added",
        "mention": "mention",
        "workspace_invitation": "workspace_invitation",
        "system_alert": "system_alert"
      }
    },
    "priority": {
      "name": "priority",
      "values": {
        "LOW": "LOW",
        "MEDIUM": "MEDIUM",
        "HIGH": "HIGH",
        "URGENT": "URGENT"
      }
    },
    "project_role": {
      "name": "project_role",
      "values": {
        "OWNER": "OWNER",
        "ADMIN": "ADMIN",
        "MEMBER": "MEMBER",
        "VIEWER": "VIEWER"
      }
    },
    "project_status": {
      "name": "project_status",
      "values": {
        "ACTIVE": "ACTIVE",
        "COMPLETED": "COMPLETED",
        "ARCHIVED": "ARCHIVED",
        "ON_HOLD": "ON_HOLD"
      }
    },
    "task_status": {
      "name": "task_status",
      "values": {
        "TODO": "TODO",
        "IN_PROGRESS": "IN_PROGRESS",
        "IN_REVIEW": "IN_REVIEW",
        "COMPLETED": "COMPLETED",
        "CANCELLED": "CANCELLED"
      }
    },
    "webhook_delivery_status": {
      "name": "webhook_delivery_status",
      "values": {
        "pending": "pending",
        "success": "success",
        "failed": "failed",
        "retrying": "retrying"
      }
    },
    "webhook_event": {
      "name": "webhook_event",
      "values": {
        "task.created": "task.created",
        "task.updated": "task.updated",
        "task.completed": "task.completed",
        "task.deleted": "task.deleted",
        "project.created": "project.created",
        "project.updated": "project.updated",
        "project.deleted": "project.deleted",
        "user.joined": "user.joined",
        "user.left": "user.left",
        "comment.added": "comment.added",
        "file.uploaded": "file.uploaded"
      }
    },
    "webhook_status": {
      "name": "webhook_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "failed": "failed",
        "suspended": "suspended"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}